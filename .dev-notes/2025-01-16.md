# Dev Notes - 2025-01-16

## Bug Fix: Article Dropdown Z-Index Issue

### Problem
The article selector dropdown was appearing behind the "執行設定" (Boost Controls) panel when opened. Users could see the dropdown was clipped/hidden by the panel below it.

### Root Cause
The dropdown in `Select.tsx` uses `z-50` for positioning, but the subsequent sections in `page.tsx` (like the Boost Controls section) were rendered later in the DOM. Since these sections didn't have explicit z-index values, they defaulted to `auto`, but their position in the DOM order caused them to visually overlap the dropdown.

In CSS stacking context:
- The Select dropdown had `z-50` but was inside a parent without a stacking context
- The Boost Controls section came after in DOM order, creating a natural overlap
- Without a `relative` + `z-index` on the Article Selector's parent section, the dropdown couldn't escape the stacking context

### Solution
Added `relative z-10` to the Article Selector section in `app/page.tsx`:

```tsx
// Before
<section className="animate-slide-in" style={{ animationDelay: '0.05s' }}>

// After
<section className="relative z-10 animate-slide-in" style={{ animationDelay: '0.05s' }}>
```

This creates a stacking context for the Article Selector section with `z-index: 10`, allowing the dropdown (`z-50`) inside it to properly appear above the subsequent Boost Controls section.

### Files Changed
- `app/page.tsx` - Added `relative z-10` to Article Selector section (line 175)

---

## UX Enhancement: Add cursor-pointer to all interactive elements

### Problem
Interactive elements (buttons, tabs, dropdowns) did not consistently show a pointer cursor on hover, making it unclear to users that they were clickable.

### Solution
Added `cursor-pointer` class to all interactive elements:

1. **Button.tsx** - Added to base button class (line 119)
2. **TabSelector.tsx** - Added to tab buttons (line 62)
3. **Select.tsx** - Added to dropdown trigger button (line 192)

Note: Select dropdown `<li>` items already had `cursor-pointer`.

### Files Changed
- `components/ui/Button.tsx`
- `components/TabSelector.tsx`
- `components/ui/Select.tsx`

---

## Test Fixes: Update outdated test assertions

### Problem
5 tests were failing because test assertions referenced old class names and label text that no longer matched the component implementations.

### Fixes
1. **ProgressMonitor.test.tsx**:
   - Fixed `250ms` assertion - response time value and unit are now in separate elements
   - Fixed `平均回應` label assertion - label was shortened to `回應`
   - Fixed stat card gradient class assertions - changed from `.from-*-500/10` to `.bg-*-50`
   - Fixed `0ms` assertion - same split element issue

2. **TabSelector.test.tsx**:
   - Fixed touch target assertion - class changed from `min-h-[48px]` to `min-h-11`

### Files Changed
- `__tests__/components/ProgressMonitor.test.tsx`
- `__tests__/components/TabSelector.test.tsx`
